<!doctype html>
<html>

<head>
  <title>Walmart Issue Browser</title>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
</head>

<body style="height:100%; position: relative; min-height: 100vh; 
padding: 30px 100px 10px;background-position: center; background-repeat: no-repeat;  background-size: cover;">
  <h1>Walmart Issue Browser</h1>
  <br>
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Issue</th>
        <th scope="col">Number</th>
        <th scope="col">State</th>
      </tr>
    </thead>
    <tbody>
        {% for i in ten_issues %}
          {% set color = "text-danger" %}
          {% if i["state"] == "open" %}
              {% set color = "text-success" %}
          {% endif %}
          <tr style="height:5px">
            <td style="width: 80%"><a href="/issue?index={{i["index"]}}">{{i["title"]}}</a></td> 
            <td style="width: 10%">{{i["number"]}}</td> 
            <td style="width: 10%"><p class="{{color}}" style="height:5px">{{i["state"]}}</p></td>
          </tr>
	      {% endfor %}
    </tbody>
  </table>
  <nav>
    <ul class="pagination">
      {% if page == 1 %}
        {% set prev = "disabled" %}
      {% endif %}
      {% if page == num_pages %}
        {% set next = "disabled" %}
      {% endif %}
      <li class="page-item {{prev}}">
        <a class="page-link" href="/?page={{page-1}}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      {% for n in range(1, num_pages+1, 1) %}
        {% if n == page %}
          {% set current = "active" %}
        {% endif %}
        <li class="page-item {{current}}"}><a class="page-link" href="/?page={{n}}">{{n}}</a></li>
      {% endfor %}

      <li class="page-item {{next}}">
        <a class="page-link" href="/?page={{page+1}}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>
    </nav>
    <a role="button" class="btn btn-danger" href="/">Reload</button>
    <br>
</body>
<footer style="position:absolute; bottom:50px; color:gray">App made by Michael Cheng</footer>

</html>
